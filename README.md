## Запуск додатку

Після запуску бази даних та виконання міграцій, сервер додатку можна запустити
в режимі розробки за допомогою команди:

```bash
npm run dev

Після успішного запуску API буде доступне за адресою:
http://localhost:3000

Для перевірки працездатності сервера та з’єднання з базою даних
передбачений health-check endpoint:
GET /health


Запуск тестів

У проєкті реалізовані інтеграційні тести з використанням Jest та Supertest,
які перевіряють коректність роботи основних бізнес-процесів.

Для запуску всіх тестів використовується команда: npm test

Тести охоплюють:
- створення та оновлення товарів;
- створення замовлень користувачів;
- оновлення статусів замовлень;
- soft delete записів;
- механізм optimistic locking при конкурентних оновленнях.


Структура проєкту

Проєкт має чітко організовану структуру каталогів:

src/ — основний код серверного застосунку:
- routes/ — HTTP-роути (Products, Orders, Users)
- services/ — бізнес-логіка та взаємодія з базою даних
- db.ts — ініціалізація Prisma Client
- app.ts — точка входу додатку

prisma/ — схема бази даних та міграції

tests/ — інтеграційні тести API

docs/ — документація проєкту

docker-compose.yml — конфігурація PostgreSQL

package.json — залежності та скрипти запуску


Приклади API

Health-check

GET /health

Використовується для перевірки доступності сервера та з’єднання з базою даних.



Товари (Products)

- Створення товару:
POST /products

- Отримання списку товарів:
GET /products

- Пошук товарів за назвою або SKU:
GET /products/search?q=phone

- Оновлення ціни товару з використанням optimistic locking:
PATCH /products/price

- Логічне видалення товару (soft delete):
DELETE /products/:id

- Аналітика — топ товарів у кожній категорії:
GET /products/analytics/top


Замовлення (Orders)

- Створення замовлення з товарами:
POST /orders

- Отримання списку замовлень користувача:
GET /orders/by-user/:userId

- Оновлення статусу замовлення з optimistic locking:
PATCH /orders/status


Користувачі (Users)

- Отримання списку користувачів:
GET /users

- Логічне видалення користувача:
DELETE /users/:id

- Аналітика Customer Lifetime Value (LTV):
GET /users/analytics/ltv

